package main

import (
	"fmt"
	"io/ioutil"
	"os"
	"log"
	"encoding/base64"
	"strings"
)

const etcdKeyPem = `LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQpNSUlFb3dJQkFBS0NBUUVBcUF5b2hya1UvMUJFSzNSZUZFeXd1cDFxV2xhYnZ5WThyVElDdDB2WEg4bHk5ZnJQCkx4OFcrY3VzSzJYVEJaQXVJU3JRMmg3UkcrMDd5MkkzcUd4bFUxY2tITWg0YUMvREJuQ3l4dnV6eXdONEdmRzUKVE5Gcy9oK0lhT3V6S0lLcG1BTkh4K2NxSTY4TFlmYVFhVllXNHp5L0VjZjBiNUdsQlhZM3N0MEluVGtmZkk1Qwo0ZkNOVkc4V0VoelhRaEduOXFUNGk2bUlIVmRoTDdNK3RDaXVlYiswU094NWdYYlN3bTdyU3VkVjJ2TzBFTmhUCmZCMFZPR2FFbENxSVdDN2JYaGpwN2d1bGVUc3IxTHJ0Q3ZvSFVKalFidlVkbkhubWN3YTBzeVJIdCsxWFV3RnoKd01uRjdNMGM0dk5BYXVuSHl6NXZoSFROYk1pZnlOZ1V6QlovZXdJREFRQUJBb0lCQUd2dDdWTFJqZjNJSkhBdwpSYmdONVRlRm9HZXkxa2EzSFNNelNuRkV3VDZHR0ZLSktnV2VseGdKeW1MNCs4WEg2d2ljUWhURTFCSjJrLyswCjdnQTYxZnpucTZiY3poQkVGS0tQUVJMeFYzRGNvb2N2SzQ1OXR0MmpqTzJ0NjV2cUIxZzlTeDNGaHRmeU5ZSk8KWkVOeTZqSTVzcEdOOVp5dVV1a21HdkhDYWlUbkh5anN3WGhQMzhobURTMUxPYzlqR2xHb0NXODZZM0xBMXk2MAowNTF2cVFnTnUzc3Z5aFlvdWk5YUV4b0c0S0JMV2ZuU3dzSUVqd3FPSXFjemdza0dyZDN5R3pVMUUveEpwNmhRCjAwNVFjdnVjci9wclhLZE5nbGpLZHhXbUd5Q0RhQ3FvZ2QrdjlXVXNIT2pQM0ZNWTd0b1FYSDlUd3diTDVYZlAKcVltenNYRUNnWUVBd20wTURMQ0sxNmVNTnNlWHozYWV4Qmc4YnczSG8rd1BDa0VFRU9nSEg5ZWV3NUxwR1lmaAozNEhTc2NTZzRBcURmTm1EaUdFMkZOWDNuRVhwMTlybklaQkd1WDI2Uy93dFV3dzBETUUvTFhOZS9qZnJueGlUClFzN3ppd2tGOU1tMW5RbENCZmhRN0hZeXpwQkRRSkdiTisvdjhyYVZybmdCelIwZHQ5Wk9Fd01DZ1lFQTNVVW4KSmhBYnJCT0E5YkJ3dStZbjJHbGhtbHlieDRQRmxPMzNjQm8zakF0SjkzTk5zaTRzcnZBdDlFWUgwcndoWnhmUwpXUS9NK0V6K0xtZkwzWUw0WEpTWVdROFZCc25hdlZYTVN3REQwRzQyUng0Y1dSL3c5L3d2MG5vOVE4YS9lYUtvClJXMXN0WXhGSWQwVWdTOGlwbGVSWCtYbWRDZ0dTYUd4R1JnZ2ZDa0NnWUVBcitEZmRwYzVjaTVCMjhnZ1gyOXAKM2ZBaXN6OWU2cjEvT1lKcEFEWTFRNnZWRmd4T3kyYXRnSGU3Tms2dVRSMlZwcHBKcjFScERONG1HUHJ4dCs5eApDRjZ3YTluOWJnRllxdml1R1IrelhCVXl5SHVqclE4WkgrV0FVTFMvNjVtUXJkY1RINzFxencxNWxuelFLWmZPCk53TFpKOUhkZzY5UnljL2Q4MUJzM2lzQ2dZQlR1WHpzdkIrY1p1emZDbG85M3dLb3NvZEovMHk2bTdQQmZLR3AKKzJHVlRoZzQxNXBJbDR3MHpaQzE0MkhHYllVK0d4ZHV0N25aSWxqemVqYjdwRGtSM3ZBZWtzUmtBekVQZjAyRAorOUFjSi9mRnhURDQwRXMvcWw3MkIyYnpKRnNEVFhiYWZtTXA5dCtaeHF1aGpoSlFXc1laUVVhSUlUVHYyNHpGCmNBbXFzUUtCZ0Y4cEQ4dUlOZGU1UTc3Vlo5ekFESFVaNU1UMUdSVEhWWHNvUTk2RnhIalZqZ1kwc3ZwLzdsNDQKQWg1cllObThkcm9GOTZlbnpoM2NMT29PeGxSZ2pQVk0rbWhPMFBKVjB5UHl4NnRncThLdXVKWE11ZC9oQStKUApPSFRvQU96SlI5R1VRN0t1RkdTaUV4VnMvZjVCYWlwTVlwbHU1YTE0VnJ5czh4S2NGdGhNCi0tLS0tRU5EIFJTQSBQUklWQVRFIEtFWS0tLS0tCg==`

func get() string {
	fn, err := os.OpenFile("/etc/kubernetes/ssl/etcd-key.pem", os.O_RDONLY, 0644)
	if err != nil {
		log.Fatal(err)
	}
	defer fn.Close()
	b, err := ioutil.ReadAll(fn)
	if err != nil {
		log.Fatal(err)
	}

	return strings.Trim(base64.StdEncoding.EncodeToString(b),"\n")
}

func main() {
	fmt.Println(string(etcdKeyPem))
	fmt.Println(get())
	if string(etcdKeyPem) == get() {
		log.Println("equal")
	}
}
